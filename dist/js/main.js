"use strict";!function(t){var e=t.module("app",[]),o=function(t,e){var o=Math.pow(10,e);return Math.trunc(t*o)/o};e.factory("position",function(){return{get:function(t){if(!navigator.geolocation)throw new Error("Geolocation is not supported.");navigator.geolocation.getCurrentPosition(function(e){t(e)})}}}),e.factory("weather",["$http",function(t){return{get:function(e){return t({method:"GET",url:"//api.openweathermap.org/data/2.5/weather?\n						lat="+e.latitude+"&\n						lon="+e.longitude+"&\n						units=metric\n						&APPID=53299179b5fcbbc0f5fdc79c783c7f69"})}}}]),e.controller("MainCtrl",["$scope","position","weather",function(t,e,n){var r=void 0;t.tempInCelsius=!0,t.info,t.message="Waiting for geolocation data...*";try{e.get(function(e){t.message="Retrieving weather data...",r=e.coords,n.get(r).success(function(e,o){t.message="",t.info=e}).error(function(t,e){throw new Error("Request status:",e)})})}catch(i){t.message="Your browser doesn't support geolocation, which is required for the application to work.\n			Please make sure you're using the latest version of your browser."}t.toggleTempUnit=function(){var e=t.info.main.temp;if(!e)throw new Error("No temperature data available.");t.tempInCelsius?t.info.main.temp=o(1.8*e+32,2):t.info.main.temp=o((e-32)/1.8,2),t.tempInCelsius=!t.tempInCelsius}}])}(angular);